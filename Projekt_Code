class MusicLibrary:
    def __init__(self):
        self.songs = []

    def load_library(self, file_path):
        try:
            with open(file_path, 'r') as file:
                self.songs = json.load(file)
                print("Library loaded.")
        except FileNotFoundError:
            print("No library found. Creating a new one.")

    def save_library(self, file_path):
        with open(file_path, 'w') as file:
            json.dump(self.songs, file)
        print("Library saved.")

    def add_song(self, title, artist, album, year):
        song = {
            'title': title,
            'artist': artist,
            'album': album,
            'year': year
        }
        self.songs.append(song)
        print("Song added.")

    def edit_song(self, title, field, new_value):
        for song in self.songs:
            if song['title'] == title:
                song[field] = new_value
                print("Song info updated.")
                return
        print("Song not found.")

    def delete_song(self, title):
        for song in self.songs:
            if song['title'] == title:
                self.songs.remove(song)
                print("Song deleted.")
                return
        print("Song not found.")

    def search_library(self, query):
        results = [song for song in self.songs if query.lower() in song['title'].lower()]
        if results:
            print("Search results:")
            for result in results:
                print(result)
        else:
            print("No results found.")

def main():
    music_lib = MusicLibrary()
    file_path = 'music_lib.json'  

    while True:
        print("\n=== Music Library Management ===")
        print("1. Load Library")
        print("2. Save Library")
        print("3. Add Song")
        print("4. Edit Song Info")
        print("5. Delete Song")
        print("6. Search Library")
        print("7. Exit")

        choice = input("Select an option (1-7): ")

        if choice == '1':
            music_lib.load_library(file_path)
        elseif choice == '2':
            music_lib.save_library(file_path)
        elseif choice == '3':
            title = input("Title: ")
            artist = input("Artist: ")
            album = input("Album: ")
            year = input("Year: ")
            music_lib.add_song(title, artist, album, year)
        elseif choice == '4':
            title = input("Title: ")
            field = input("Field (title/artist/album/year): ")
            new_value = input("New Value: ")
            music_lib.edit_song(title, field, new_value)
        elseif choice == '5':
            title = input("Title: ")
            music_lib.delete_song(title)
        elseif choice == '6':
            query = input("Search term: ")
            music_lib.search_library(query)
        elseif choice == '7':
            print("Exiting program.")
            break
        else:
            print("Invalid choice. Try again.")

if __name__ == "__main__":
    main()
